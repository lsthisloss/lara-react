@import 'variables';
@import 'responsive';

.dashboard {
  padding: $spacing-xl;
  
  @include mobile-only {
    padding: $spacing-md;
  }

  &__header {
    margin-bottom: $spacing-xl;
    
    @include mobile-only {
      margin-bottom: $spacing-lg;
      text-align: center;
    }

    h2 {
      margin-bottom: $spacing-sm;
      
      @include mobile-only {
        font-size: 24px;
      }
    }

    p {
      color: $text-color-secondary;
      
      @include mobile-only {
        font-size: 14px;
      }
    }
  }

  &__stats {
    margin-bottom: $spacing-xl;
    
    @include mobile-only {
      margin-bottom: $spacing-lg;
    }

    .ant-row {
      // На мобильных делаем статистики в колонку
      @include mobile-only {
        flex-direction: column;
        
        .ant-col {
          width: 100% !important;
          margin-bottom: $spacing-md;
          
          &:last-child {
            margin-bottom: 0;
          }
        }
      }

      // На планшетах 2 в ряд
      @include tablet-only {
        .ant-col {
          width: 50% !important;
          margin-bottom: $spacing-md;
          
          &:nth-child(3) {
            margin-bottom: 0;
          }
        }
      }
    }

    .ant-card {
      height: 100%;
      
      @include mobile-only {
        text-align: center;
      }

      .ant-statistic {
        .ant-statistic-title {
          @include mobile-only {
            font-size: 12px;
          }
        }

        .ant-statistic-content {
          @include mobile-only {
            font-size: 20px;
          }
        }
      }
    }
  }

  &__posts {
    .ant-card {
      .ant-card-head {
        @include mobile-only {
          .ant-card-head-title {
            font-size: 16px;
          }

          .ant-card-extra {
            .ant-btn {
              font-size: 12px;
              padding: 4px 8px;
              height: auto;
              
              .anticon {
                font-size: 12px;
              }
            }
          }
        }
      }

      .ant-table-wrapper {
        // Делаем таблицу скроллируемой на мобильных
        @include mobile-only {
          overflow-x: auto;
        }

        .ant-table {
          @include mobile-only {
            min-width: 600px; // Минимальная ширина для скролла
          }

          .ant-table-thead > tr > th {
            @include mobile-only {
              padding: 8px 4px;
              font-size: 12px;
            }
          }

          .ant-table-tbody > tr > td {
            @include mobile-only {
              padding: 8px 4px;
              font-size: 12px;
            }
          }

          // Скрываем некоторые колонки на мобильных
          @include mobile-only {
            .ant-table-thead > tr > th:nth-child(1), // ID
            .ant-table-tbody > tr > td:nth-child(1) {
              display: none;
            }

            .ant-table-thead > tr > th:nth-child(3), // Content
            .ant-table-tbody > tr > td:nth-child(3) {
              display: none;
            }

            .ant-table-thead > tr > th:nth-child(4), // Author
            .ant-table-tbody > tr > td:nth-child(4) {
              display: none;
            }
          }
        }

        .ant-pagination {
          @include mobile-only {
            text-align: center;
            margin-top: $spacing-md;
            
            .ant-pagination-item,
            .ant-pagination-prev,
            .ant-pagination-next {
              margin: 0 2px;
              min-width: 28px;
              height: 28px;
              line-height: 26px;
            }

            .ant-pagination-options {
              display: none; // Скрываем опции на мобильных
            }
          }
        }
      }
    }
  }
}

// Responsive Layout adjustments
.ant-layout {
  @include mobile-only {
    .ant-layout-header {
      padding: 0 $spacing-md;
      height: 56px;
      line-height: 56px;

      .ant-typography {
        font-size: 18px;
      }

      .ant-space {
        font-size: 12px;

        .ant-btn {
          padding: 2px 4px;
        }

        .ant-avatar {
          width: 24px;
          height: 24px;
          line-height: 22px;
        }
      }
    }

    .ant-layout-sider {
      width: 200px !important;
      flex: 0 0 200px !important;

      .ant-menu {
        padding-top: $spacing-sm;

        .ant-menu-item {
          margin: 0;
          height: 36px;
          line-height: 36px;
          
          .ant-menu-title-content {
            font-size: 14px;
          }
        }
      }
    }

    .ant-layout-content {
      padding: $spacing-md;
      min-height: calc(100vh - 56px);
    }
  }
}
